config:
  # You can optionally log all output from each process
  # to the given file here
  log-path: build.log
  env:
    YYYYYYYYYYYYYYYY: aaaaaaaaa

tasks:

  - name: Compiling source
    tags: t
    parallel-tasks:
      - name: Prepping data
        cmd: example/scripts/random-worker.sh 10
        stdout-log: /tmp/BF/t1-stdout.log
        stderr-log: /tmp/BF/t1-stderr.log
        env:
          XXXXXXXX: aaaaaaaaa
      - name: stderr test
        cmd: env | tee /tmp/BF1
#">&2 date; echo OK; >&2 echo OK; date;env; | tee /tmp/BF1"
        env:
          A1: abc
        stdout-log: /tmp/BF/t2-stdout.log
        stderr-log: /tmp/BF/t2-stderr.log
      - name: Compiling aux libraries
        cmd: example/scripts/compile-something.sh 2 
      - name: Compiling app (debug)
        cmd: example/scripts/compile-something.sh 9
      - name: Compiling app (release)
        cmd: example/scripts/compile-something.sh 6
      - name: Compiling app (with trace)
        cmd: example/scripts/compile-something.sh 4

  - name: Packaging RPM
    cmd: example/scripts/random-worker.sh 2

  - name: Cleaning up workspace
    cmd: example/scripts/random-worker.sh 10

